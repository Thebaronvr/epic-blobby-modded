<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="download_date" content="2025-12-19T20:13:55.800Z"/>

<title>Sev's Blobtown Menu</title>
<style>
    html, body {
        margin: 0;
        padding: 0;
        height: 100%;
        overflow: hidden;
        font-family: Arial, sans-serif;
        background: #ffffff;
    }

    .top-bar {
        position: relative;
        background: linear-gradient(to right, purple, blue);
        color: white;
        display: flex;
        justify-content: flex-start;
        align-items: center;
        padding: 12px 20px;
        height: 56px;
        box-sizing: border-box;
        border-bottom: 2px solid rgba(255, 255, 255, 0.3);
    }

    .top-bar .clock {
        position: absolute;
        left: 50%;
        transform: translateX(-50%);
        font-size: 40px;
        user-select: none;
        opacity: 0.5;
    }

    #notifMessage {
        position: absolute;
        top: 60px;
        left: 50%;
        transform: translateX(-50%);
        color: white;
        font-weight: bold;
        font-family: Arial, sans-serif;
        font-size: 16px;
        background: rgba(0,0,0,0.6);
        padding: 6px 12px;
        border-radius: 8px;
        display: none;
        pointer-events: none;
        user-select: none;
        z-index: 10000;
        white-space: nowrap;
    }

    .top-bar .left-buttons button,
    .top-bar .right-buttons button {
        background: white;
        border: none;
        padding: 8px 16px;
        margin-right: 10px;
        border-radius: 6px;
        font-weight: bold;
        cursor: pointer;
        opacity: 0.5;
        position: relative;
        transition: box-shadow 0.3s ease, color 0.3s ease;
    }

    .top-bar .right-buttons {
        margin-left: auto;
        display: flex;
        align-items: center;
    }

    .neon-red {
        color: #ff0000 !important;
        opacity: 1 !important;
        box-shadow:
            0 0 5px #ff0000,
            0 0 10px #ff0000,
            0 0 20px #ff0000,
            0 0 40px #ff0000;
    }

    #embedContainer {
        position: absolute;
        top: 56px;
        left: 0;
        right: 0;
        bottom: 0;
        background: #000;
        overflow: auto;
    }

    iframe {
        width: 100%;
        height: 100%;
        border: none;
        display: block;
    }

    #embedContainer.settings {
        color: white;
        padding: 20px;
        font-weight: bold;
        display: flex;
        flex-direction: column;
        align-items: center;
    }

    .color-picker {
        display: flex;
        gap: 20px;
        align-items: center;
        margin-top: 10px;
    }

    .color-preview {
        width: 40px;
        height: 40px;
        border-radius: 50%;
        border: 2px solid white;
        margin-left: 10px;
    }

    #resetBtn {
        margin-top: 20px;
        border: none;
        padding: 10px 20px;
        border-radius: 8px;
        cursor: pointer;
        font-weight: bold;
        background: transparent;
        opacity: 0.5;
        color: white;
    }
</style>
</head>
<body>

<div class="top-bar" id="topBar" style="background: linear-gradient(to right, rgb(128, 0, 128), rgb(0, 0, 255)); border-bottom: 2px solid rgb(0, 0, 255);">
    <div class="left-buttons">
        <button onclick="goMenu()">Inventory</button>
        <button onclick="goBrowser()">Browser</button>
        <button id="chatButton" onclick="goChat()" style="position: relative;">
            Chat
        </button>
    </div>
    <div class="clock" id="clock">14:13:55</div>
    <div id="notifMessage"></div>
    <div class="right-buttons">
        <button onclick="Settings()">Settings</button>
        <button onclick="kill()">Loader</button>
        <button onclick="refresh()">Refresh</button>
    </div>
</div>

<div id="embedContainer" style="background: rgb(255, 255, 255);"><div style="color: red; font-size: 20px; text-align: center; margin-top: 30px;">
            ⚠ No ID provided in the URL. Please add <code>?id=YOURID</code> to the URL.
           </div></div>





<style>/*! Pickr 1.9.1 MIT | https://github.com/Simonwep/pickr */
.pickr{position:relative;overflow:visible;transform:translateY(0)}.pickr *{box-sizing:border-box;outline:none;border:none;-webkit-appearance:none}.pickr .pcr-button{position:relative;height:2em;width:2em;padding:.5em;cursor:pointer;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Roboto","Helvetica Neue",Arial,sans-serif;border-radius:.15em;background:url("data:image/svg+xml;utf8, <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 50 50\" stroke=\"%2342445A\" stroke-width=\"5px\" stroke-linecap=\"round\"><path d=\"M45,45L5,5\"></path><path d=\"M45,5L5,45\"></path></svg>") no-repeat center;background-size:0;transition:all .3s}.pickr .pcr-button::before{position:absolute;content:"";top:0;left:0;width:100%;height:100%;background:url("data:image/svg+xml;utf8, <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 2 2\"><path fill=\"white\" d=\"M1,0H2V1H1V0ZM0,1H1V2H0V1Z\"/><path fill=\"gray\" d=\"M0,0H1V1H0V0ZM1,1H2V2H1V1Z\"/></svg>");background-size:.5em;border-radius:.15em;z-index:-1}.pickr .pcr-button::before{z-index:initial}.pickr .pcr-button::after{position:absolute;content:"";top:0;left:0;height:100%;width:100%;transition:background .3s;background:var(--pcr-color);border-radius:.15em}.pickr .pcr-button.clear{background-size:70%}.pickr .pcr-button.clear::before{opacity:0}.pickr .pcr-button.clear:focus{box-shadow:0 0 0 1px rgba(255,255,255,.85),0 0 0 3px var(--pcr-color)}.pickr .pcr-button.disabled{cursor:not-allowed}.pickr *,.pcr-app *{box-sizing:border-box;outline:none;border:none;-webkit-appearance:none}.pickr input:focus,.pickr input.pcr-active,.pickr button:focus,.pickr button.pcr-active,.pcr-app input:focus,.pcr-app input.pcr-active,.pcr-app button:focus,.pcr-app button.pcr-active{box-shadow:0 0 0 1px rgba(255,255,255,.85),0 0 0 3px var(--pcr-color)}.pickr .pcr-palette,.pickr .pcr-slider,.pcr-app .pcr-palette,.pcr-app .pcr-slider{transition:box-shadow .3s}.pickr .pcr-palette:focus,.pickr .pcr-slider:focus,.pcr-app .pcr-palette:focus,.pcr-app .pcr-slider:focus{box-shadow:0 0 0 1px rgba(255,255,255,.85),0 0 0 3px rgba(0,0,0,.25)}.pcr-app{position:fixed;display:flex;flex-direction:column;z-index:10000;border-radius:.1em;background:#fff;opacity:0;visibility:hidden;transition:opacity .3s,visibility 0s .3s;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Roboto","Helvetica Neue",Arial,sans-serif;box-shadow:0 .15em 1.5em 0 rgba(0,0,0,.1),0 0 1em 0 rgba(0,0,0,.03);left:0;top:0}.pcr-app.visible{transition:opacity .3s;visibility:visible;opacity:1}.pcr-app .pcr-swatches{display:flex;flex-wrap:wrap;margin-top:.75em}.pcr-app .pcr-swatches.pcr-last{margin:0}@supports(display: grid){.pcr-app .pcr-swatches{display:grid;align-items:center;grid-template-columns:repeat(auto-fit, 1.75em)}}.pcr-app .pcr-swatches>button{font-size:1em;position:relative;width:calc(1.75em - 5px);height:calc(1.75em - 5px);border-radius:.15em;cursor:pointer;margin:2.5px;flex-shrink:0;justify-self:center;transition:all .15s;overflow:hidden;background:rgba(0,0,0,0);z-index:1}.pcr-app .pcr-swatches>button::before{position:absolute;content:"";top:0;left:0;width:100%;height:100%;background:url("data:image/svg+xml;utf8, <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 2 2\"><path fill=\"white\" d=\"M1,0H2V1H1V0ZM0,1H1V2H0V1Z\"/><path fill=\"gray\" d=\"M0,0H1V1H0V0ZM1,1H2V2H1V1Z\"/></svg>");background-size:6px;border-radius:.15em;z-index:-1}.pcr-app .pcr-swatches>button::after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:var(--pcr-color);border:1px solid rgba(0,0,0,.05);border-radius:.15em;box-sizing:border-box}.pcr-app .pcr-swatches>button:hover{filter:brightness(1.05)}.pcr-app .pcr-swatches>button:not(.pcr-active){box-shadow:none}.pcr-app .pcr-interaction{display:flex;flex-wrap:wrap;align-items:center;margin:0 -0.2em 0 -0.2em}.pcr-app .pcr-interaction>*{margin:0 .2em}.pcr-app .pcr-interaction input{letter-spacing:.07em;font-size:.75em;text-align:center;cursor:pointer;color:#75797e;background:#f1f3f4;border-radius:.15em;transition:all .15s;padding:.45em .5em;margin-top:.75em}.pcr-app .pcr-interaction input:hover{filter:brightness(0.975)}.pcr-app .pcr-interaction input:focus{box-shadow:0 0 0 1px rgba(255,255,255,.85),0 0 0 3px rgba(66,133,244,.75)}.pcr-app .pcr-interaction .pcr-result{color:#75797e;text-align:left;flex:1 1 8em;min-width:8em;transition:all .2s;border-radius:.15em;background:#f1f3f4;cursor:text}.pcr-app .pcr-interaction .pcr-result::-moz-selection{background:#4285f4;color:#fff}.pcr-app .pcr-interaction .pcr-result::selection{background:#4285f4;color:#fff}.pcr-app .pcr-interaction .pcr-type.active{color:#fff;background:#4285f4}.pcr-app .pcr-interaction .pcr-save,.pcr-app .pcr-interaction .pcr-cancel,.pcr-app .pcr-interaction .pcr-clear{color:#fff;width:auto}.pcr-app .pcr-interaction .pcr-save,.pcr-app .pcr-interaction .pcr-cancel,.pcr-app .pcr-interaction .pcr-clear{color:#fff}.pcr-app .pcr-interaction .pcr-save:hover,.pcr-app .pcr-interaction .pcr-cancel:hover,.pcr-app .pcr-interaction .pcr-clear:hover{filter:brightness(0.925)}.pcr-app .pcr-interaction .pcr-save{background:#4285f4}.pcr-app .pcr-interaction .pcr-clear,.pcr-app .pcr-interaction .pcr-cancel{background:#f44250}.pcr-app .pcr-interaction .pcr-clear:focus,.pcr-app .pcr-interaction .pcr-cancel:focus{box-shadow:0 0 0 1px rgba(255,255,255,.85),0 0 0 3px rgba(244,66,80,.75)}.pcr-app .pcr-selection .pcr-picker{position:absolute;height:18px;width:18px;border:2px solid #fff;border-radius:100%;-webkit-user-select:none;-moz-user-select:none;user-select:none}.pcr-app .pcr-selection .pcr-color-palette,.pcr-app .pcr-selection .pcr-color-chooser,.pcr-app .pcr-selection .pcr-color-opacity{position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;display:flex;flex-direction:column;cursor:grab;cursor:-webkit-grab}.pcr-app .pcr-selection .pcr-color-palette:active,.pcr-app .pcr-selection .pcr-color-chooser:active,.pcr-app .pcr-selection .pcr-color-opacity:active{cursor:grabbing;cursor:-webkit-grabbing}.pcr-app[data-theme=classic]{width:28.5em;max-width:95vw;padding:.8em}.pcr-app[data-theme=classic] .pcr-selection{display:flex;justify-content:space-between;flex-grow:1}.pcr-app[data-theme=classic] .pcr-selection .pcr-color-preview{position:relative;z-index:1;width:2em;display:flex;flex-direction:column;justify-content:space-between;margin-right:.75em}.pcr-app[data-theme=classic] .pcr-selection .pcr-color-preview::before{position:absolute;content:"";top:0;left:0;width:100%;height:100%;background:url("data:image/svg+xml;utf8, <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 2 2\"><path fill=\"white\" d=\"M1,0H2V1H1V0ZM0,1H1V2H0V1Z\"/><path fill=\"gray\" d=\"M0,0H1V1H0V0ZM1,1H2V2H1V1Z\"/></svg>");background-size:.5em;border-radius:.15em;z-index:-1}.pcr-app[data-theme=classic] .pcr-selection .pcr-color-preview .pcr-last-color{cursor:pointer;border-radius:.15em .15em 0 0;z-index:2}.pcr-app[data-theme=classic] .pcr-selection .pcr-color-preview .pcr-current-color{border-radius:0 0 .15em .15em}.pcr-app[data-theme=classic] .pcr-selection .pcr-color-preview .pcr-last-color,.pcr-app[data-theme=classic] .pcr-selection .pcr-color-preview .pcr-current-color{background:var(--pcr-color);width:100%;height:50%}.pcr-app[data-theme=classic] .pcr-selection .pcr-color-palette{width:100%;height:8em;z-index:1}.pcr-app[data-theme=classic] .pcr-selection .pcr-color-palette .pcr-palette{flex-grow:1;border-radius:.15em}.pcr-app[data-theme=classic] .pcr-selection .pcr-color-palette .pcr-palette::before{position:absolute;content:"";top:0;left:0;width:100%;height:100%;background:url("data:image/svg+xml;utf8, <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 2 2\"><path fill=\"white\" d=\"M1,0H2V1H1V0ZM0,1H1V2H0V1Z\"/><path fill=\"gray\" d=\"M0,0H1V1H0V0ZM1,1H2V2H1V1Z\"/></svg>");background-size:.5em;border-radius:.15em;z-index:-1}.pcr-app[data-theme=classic] .pcr-selection .pcr-color-chooser,.pcr-app[data-theme=classic] .pcr-selection .pcr-color-opacity{margin-left:.75em}.pcr-app[data-theme=classic] .pcr-selection .pcr-color-chooser .pcr-picker,.pcr-app[data-theme=classic] .pcr-selection .pcr-color-opacity .pcr-picker{left:50%;transform:translateX(-50%)}.pcr-app[data-theme=classic] .pcr-selection .pcr-color-chooser .pcr-slider,.pcr-app[data-theme=classic] .pcr-selection .pcr-color-opacity .pcr-slider{width:8px;flex-grow:1;border-radius:50em}.pcr-app[data-theme=classic] .pcr-selection .pcr-color-chooser .pcr-slider{background:linear-gradient(to bottom, hsl(0, 100%, 50%), hsl(60, 100%, 50%), hsl(120, 100%, 50%), hsl(180, 100%, 50%), hsl(240, 100%, 50%), hsl(300, 100%, 50%), hsl(0, 100%, 50%))}.pcr-app[data-theme=classic] .pcr-selection .pcr-color-opacity .pcr-slider{background:linear-gradient(to bottom, transparent, black),url("data:image/svg+xml;utf8, <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 2 2\"><path fill=\"white\" d=\"M1,0H2V1H1V0ZM0,1H1V2H0V1Z\"/><path fill=\"gray\" d=\"M0,0H1V1H0V0ZM1,1H2V2H1V1Z\"/></svg>");background-size:100%,50%}
</style>
<script>/*! Pickr 1.9.1 MIT | https://github.com/Simonwep/pickr */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Pickr=e():t.Pickr=e()}(self,(()=>(()=>{"use strict";var t={d:(e,o)=>{for(var n in o)t.o(o,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:o[n]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};t.d(e,{default:()=>E});var o={};function n(t,e,o,n,i={}){e instanceof HTMLCollection||e instanceof NodeList?e=Array.from(e):Array.isArray(e)||(e=[e]),Array.isArray(o)||(o=[o]);for(const s of e)for(const e of o)s[t](e,n,{capture:!1,...i});return Array.prototype.slice.call(arguments,1)}t.r(o),t.d(o,{adjustableInputNumbers:()=>p,createElementFromString:()=>r,createFromTemplate:()=>a,eventPath:()=>l,off:()=>s,on:()=>i,resolveElement:()=>c});const i=n.bind(null,"addEventListener"),s=n.bind(null,"removeEventListener");function r(t){const e=document.createElement("div");return e.innerHTML=t.trim(),e.firstElementChild}function a(t){const e=(t,e)=>{const o=t.getAttribute(e);return t.removeAttribute(e),o},o=(t,n={})=>{const i=e(t,":obj"),s=e(t,":ref"),r=i?n[i]={}:n;s&&(n[s]=t);for(const n of Array.from(t.children)){const t=e(n,":arr"),i=o(n,t?{}:r);t&&(r[t]||(r[t]=[])).push(Object.keys(i).length?i:n)}return n};return o(r(t))}function l(t){let e=t.path||t.composedPath&&t.composedPath();if(e)return e;let o=t.target.parentElement;for(e=[t.target,o];o=o.parentElement;)e.push(o);return e.push(document,window),e}function c(t){return t instanceof Element?t:"string"==typeof t?t.split(/>>/g).reduce(((t,e,o,n)=>(t=t.querySelector(e),o<n.length-1?t.shadowRoot:t)),document):null}function p(t,e=(t=>t)){function o(o){const n=[.001,.01,.1][Number(o.shiftKey||2*o.ctrlKey)]*(o.deltaY<0?1:-1);let i=0,s=t.selectionStart;t.value=t.value.replace(/[\d.]+/g,((t,o)=>o<=s&&o+t.length>=s?(s=o,e(Number(t),n,i)):(i++,t))),t.focus(),t.setSelectionRange(s,s),o.preventDefault(),t.dispatchEvent(new Event("input"))}i(t,"focus",(()=>i(window,"wheel",o,{passive:!1}))),i(t,"blur",(()=>s(window,"wheel",o)))}const{min:u,max:h,floor:d,round:m}=Math;function f(t,e,o){e/=100,o/=100;const n=d(t=t/360*6),i=t-n,s=o*(1-e),r=o*(1-i*e),a=o*(1-(1-i)*e),l=n%6;return[255*[o,r,s,s,a,o][l],255*[a,o,o,r,s,s][l],255*[s,s,a,o,o,r][l]]}function v(t,e,o){const n=(2-(e/=100))*(o/=100)/2;return 0!==n&&(e=1===n?0:n<.5?e*o/(2*n):e*o/(2-2*n)),[t,100*e,100*n]}function b(t,e,o){const n=u(t/=255,e/=255,o/=255),i=h(t,e,o),s=i-n;let r,a;if(0===s)r=a=0;else{a=s/i;const n=((i-t)/6+s/2)/s,l=((i-e)/6+s/2)/s,c=((i-o)/6+s/2)/s;t===i?r=c-l:e===i?r=1/3+n-c:o===i&&(r=2/3+l-n),r<0?r+=1:r>1&&(r-=1)}return[360*r,100*a,100*i]}function y(t,e,o,n){e/=100,o/=100;return[...b(255*(1-u(1,(t/=100)*(1-(n/=100))+n)),255*(1-u(1,e*(1-n)+n)),255*(1-u(1,o*(1-n)+n)))]}function g(t,e,o){e/=100;const n=2*(e*=(o/=100)<.5?o:1-o)/(o+e)*100,i=100*(o+e);return[t,isNaN(n)?0:n,i]}function _(t){return b(...t.match(/.{2}/g).map((t=>parseInt(t,16))))}function w(t){t=t.match(/^[a-zA-Z]+$/)?function(t){if("black"===t.toLowerCase())return"#000";const e=document.createElement("canvas").getContext("2d");return e.fillStyle=t,"#000"===e.fillStyle?null:e.fillStyle}(t):t;const e={cmyk:/^cmyk\D+([\d.]+)\D+([\d.]+)\D+([\d.]+)\D+([\d.]+)/i,rgba:/^rgba?\D+([\d.]+)(%?)\D+([\d.]+)(%?)\D+([\d.]+)(%?)\D*?(([\d.]+)(%?)|$)/i,hsla:/^hsla?\D+([\d.]+)\D+([\d.]+)\D+([\d.]+)\D*?(([\d.]+)(%?)|$)/i,hsva:/^hsva?\D+([\d.]+)\D+([\d.]+)\D+([\d.]+)\D*?(([\d.]+)(%?)|$)/i,hexa:/^#?(([\dA-Fa-f]{3,4})|([\dA-Fa-f]{6})|([\dA-Fa-f]{8}))$/i},o=t=>t.map((t=>/^(|\d+)\.\d+|\d+$/.test(t)?Number(t):void 0));let n;t:for(const i in e)if(n=e[i].exec(t))switch(i){case"cmyk":{const[,t,e,s,r]=o(n);if(t>100||e>100||s>100||r>100)break t;return{values:y(t,e,s,r),type:i}}case"rgba":{let[,t,,e,,s,,,r]=o(n);if(t="%"===n[2]?t/100*255:t,e="%"===n[4]?e/100*255:e,s="%"===n[6]?s/100*255:s,r="%"===n[9]?r/100:r,t>255||e>255||s>255||r<0||r>1)break t;return{values:[...b(t,e,s),r],a:r,type:i}}case"hexa":{let[,t]=n;4!==t.length&&3!==t.length||(t=t.split("").map((t=>t+t)).join(""));const e=t.substring(0,6);let o=t.substring(6);return o=o?parseInt(o,16)/255:void 0,{values:[..._(e),o],a:o,type:i}}case"hsla":{let[,t,e,s,,r]=o(n);if(r="%"===n[6]?r/100:r,t>360||e>100||s>100||r<0||r>1)break t;return{values:[...g(t,e,s),r],a:r,type:i}}case"hsva":{let[,t,e,s,,r]=o(n);if(r="%"===n[6]?r/100:r,t>360||e>100||s>100||r<0||r>1)break t;return{values:[t,e,s,r],a:r,type:i}}}return{values:null,type:null}}function A(t=0,e=0,o=0,n=1){const i=(t,e)=>(o=-1)=>e(~o?t.map((t=>Number(t.toFixed(o)))):t),s={h:t,s:e,v:o,a:n,toHSVA(){const t=[s.h,s.s,s.v,s.a];return t.toString=i(t,(t=>`hsva(${t[0]}, ${t[1]}%, ${t[2]}%, ${s.a})`)),t},toHSLA(){const t=[...v(s.h,s.s,s.v),s.a];return t.toString=i(t,(t=>`hsla(${t[0]}, ${t[1]}%, ${t[2]}%, ${s.a})`)),t},toRGBA(){const t=[...f(s.h,s.s,s.v),s.a];return t.toString=i(t,(t=>`rgba(${t[0]}, ${t[1]}, ${t[2]}, ${s.a})`)),t},toCMYK(){const t=function(t,e,o){const n=f(t,e,o),i=n[0]/255,s=n[1]/255,r=n[2]/255,a=u(1-i,1-s,1-r);return[100*(1===a?0:(1-i-a)/(1-a)),100*(1===a?0:(1-s-a)/(1-a)),100*(1===a?0:(1-r-a)/(1-a)),100*a]}(s.h,s.s,s.v);return t.toString=i(t,(t=>`cmyk(${t[0]}%, ${t[1]}%, ${t[2]}%, ${t[3]}%)`)),t},toHEXA(){const t=function(t,e,o){return f(t,e,o).map((t=>m(t).toString(16).padStart(2,"0")))}(s.h,s.s,s.v),e=s.a>=1?"":Number((255*s.a).toFixed(0)).toString(16).toUpperCase().padStart(2,"0");return e&&t.push(e),t.toString=()=>`#${t.join("").toUpperCase()}`,t},clone:()=>A(s.h,s.s,s.v,s.a)};return s}const $=t=>Math.max(Math.min(t,1),0);function C(t){const e={options:Object.assign({lock:null,onchange:()=>0,onstop:()=>0},t),_keyboard(t){const{options:o}=e,{type:n,key:i}=t;if(document.activeElement===o.wrapper){const{lock:o}=e.options,s="ArrowUp"===i,r="ArrowRight"===i,a="ArrowDown"===i,l="ArrowLeft"===i;if("keydown"===n&&(s||r||a||l)){let n=0,i=0;"v"===o?n=s||r?1:-1:"h"===o?n=s||r?-1:1:(i=s?-1:a?1:0,n=l?-1:r?1:0),e.update($(e.cache.x+.01*n),$(e.cache.y+.01*i)),t.preventDefault()}else i.startsWith("Arrow")&&(e.options.onstop(),t.preventDefault())}},_tapstart(t){i(document,["mouseup","touchend","touchcancel"],e._tapstop),i(document,["mousemove","touchmove"],e._tapmove),t.cancelable&&t.preventDefault(),e._tapmove(t)},_tapmove(t){const{options:o,cache:n}=e,{lock:i,element:s,wrapper:r}=o,a=r.getBoundingClientRect();let l=0,c=0;if(t){const e=t&&t.touches&&t.touches[0];l=t?(e||t).clientX:0,c=t?(e||t).clientY:0,l<a.left?l=a.left:l>a.left+a.width&&(l=a.left+a.width),c<a.top?c=a.top:c>a.top+a.height&&(c=a.top+a.height),l-=a.left,c-=a.top}else n&&(l=n.x*a.width,c=n.y*a.height);"h"!==i&&(s.style.left=`calc(${l/a.width*100}% - ${s.offsetWidth/2}px)`),"v"!==i&&(s.style.top=`calc(${c/a.height*100}% - ${s.offsetHeight/2}px)`),e.cache={x:l/a.width,y:c/a.height};const p=$(l/a.width),u=$(c/a.height);switch(i){case"v":return o.onchange(p);case"h":return o.onchange(u);default:return o.onchange(p,u)}},_tapstop(){e.options.onstop(),s(document,["mouseup","touchend","touchcancel"],e._tapstop),s(document,["mousemove","touchmove"],e._tapmove)},trigger(){e._tapmove()},update(t=0,o=0){const{left:n,top:i,width:s,height:r}=e.options.wrapper.getBoundingClientRect();"h"===e.options.lock&&(o=t),e._tapmove({clientX:n+s*t,clientY:i+r*o})},destroy(){const{options:t,_tapstart:o,_keyboard:n}=e;s(document,["keydown","keyup"],n),s([t.wrapper,t.element],"mousedown",o),s([t.wrapper,t.element],"touchstart",o,{passive:!1})}},{options:o,_tapstart:n,_keyboard:r}=e;return i([o.wrapper,o.element],"mousedown",n),i([o.wrapper,o.element],"touchstart",n,{passive:!1}),i(document,["keydown","keyup"],r),e}function k(t={}){t=Object.assign({onchange:()=>0,className:"",elements:[]},t);const e=i(t.elements,"click",(e=>{t.elements.forEach((o=>o.classList[e.target===o?"add":"remove"](t.className))),t.onchange(e),e.stopPropagation()}));return{destroy:()=>s(...e)}}const S={variantFlipOrder:{start:"sme",middle:"mse",end:"ems"},positionFlipOrder:{top:"tbrl",right:"rltb",bottom:"btrl",left:"lrbt"},position:"bottom",margin:8,padding:0},O=(t,e,o)=>{const n="object"!=typeof t||t instanceof HTMLElement?{reference:t,popper:e,...o}:t;return{update(t=n){const{reference:e,popper:o}=Object.assign(n,t);if(!o||!e)throw new Error("Popper- or reference-element missing.");return((t,e,o)=>{const{container:n,arrow:i,margin:s,padding:r,position:a,variantFlipOrder:l,positionFlipOrder:c}={container:document.documentElement.getBoundingClientRect(),...S,...o},{left:p,top:u}=e.style;e.style.left="0",e.style.top="0";const h=t.getBoundingClientRect(),d=e.getBoundingClientRect(),m={t:h.top-d.height-s,b:h.bottom+s,r:h.right+s,l:h.left-d.width-s},f={vs:h.left,vm:h.left+h.width/2-d.width/2,ve:h.left+h.width-d.width,hs:h.top,hm:h.bottom-h.height/2-d.height/2,he:h.bottom-d.height},[v,b="middle"]=a.split("-"),y=c[v],g=l[b],{top:_,left:w,bottom:A,right:$}=n;for(const t of y){const o="t"===t||"b"===t;let n=m[t];const[s,a]=o?["top","left"]:["left","top"],[l,c]=o?[d.height,d.width]:[d.width,d.height],[p,u]=o?[A,$]:[$,A],[v,b]=o?[_,w]:[w,_];if(!(n<v||n+l+r>p))for(const p of g){let m=f[(o?"v":"h")+p];if(!(m<b||m+c+r>u)){if(m-=d[a],n-=d[s],e.style[a]=`${m}px`,e.style[s]=`${n}px`,i){const e=o?h.width/2:h.height/2,r=c/2,u=e>r,d=m+{s:u?r:e,m:r,e:u?r:c-e}[p],f=n+{t:l,b:0,r:0,l}[t];i.style[a]=`${d}px`,i.style[s]=`${f}px`}return t+p}}}return e.style.left=p,e.style.top=u,null})(e,o,n)}}};class E{static utils=o;static version="1.9.1";static I18N_DEFAULTS={"ui:dialog":"color picker dialog","btn:toggle":"toggle color picker dialog","btn:swatch":"color swatch","btn:last-color":"use previous color","btn:save":"Save","btn:cancel":"Cancel","btn:clear":"Clear","aria:btn:save":"save and close","aria:btn:cancel":"cancel and close","aria:btn:clear":"clear and close","aria:input":"color input field","aria:palette":"color selection area","aria:hue":"hue selection slider","aria:opacity":"selection slider"};static DEFAULT_OPTIONS={appClass:null,theme:"classic",useAsButton:!1,padding:8,disabled:!1,comparison:!0,closeOnScroll:!1,outputPrecision:0,lockOpacity:!1,autoReposition:!0,container:"body",components:{interaction:{}},i18n:{},swatches:null,inline:!1,sliders:null,default:"#42445a",defaultRepresentation:null,position:"bottom-middle",adjustableNumbers:!0,showAlways:!1,closeWithKey:"Escape"};_initializingActive=!0;_recalc=!0;_nanopop=null;_root=null;_color=A();_lastColor=A();_swatchColors=[];_setupAnimationFrame=null;_eventListener={init:[],save:[],hide:[],show:[],clear:[],change:[],changestop:[],cancel:[],swatchselect:[]};constructor(t){this.options=t=Object.assign({...E.DEFAULT_OPTIONS},t);const{swatches:e,components:o,theme:n,sliders:i,lockOpacity:s,padding:r}=t;["nano","monolith"].includes(n)&&!i&&(t.sliders="h"),o.interaction||(o.interaction={});const{preview:a,opacity:l,hue:c,palette:p}=o;o.opacity=!s&&l,o.palette=p||a||l||c,this._preBuild(),this._buildComponents(),this._bindEvents(),this._finalBuild(),e&&e.length&&e.forEach((t=>this.addSwatch(t)));const{button:u,app:h}=this._root;this._nanopop=O(u,h,{margin:r}),u.setAttribute("role","button"),u.setAttribute("aria-label",this._t("btn:toggle"));const d=this;this._setupAnimationFrame=requestAnimationFrame((function e(){if(!h.offsetWidth)return requestAnimationFrame(e);d.setColor(t.default),d._rePositioningPicker(),t.defaultRepresentation&&(d._representation=t.defaultRepresentation,d.setColorRepresentation(d._representation)),t.showAlways&&d.show(),d._initializingActive=!1,d._emit("init")}))}static create=t=>new E(t);_preBuild(){const{options:t}=this;for(const e of["el","container"])t[e]=c(t[e]);this._root=(t=>{const{components:e,useAsButton:o,inline:n,appClass:i,theme:s,lockOpacity:r}=t.options,l=t=>t?"":'style="display:none" hidden',c=e=>t._t(e),p=a(`\n      <div :ref="root" class="pickr">\n\n        ${o?"":'<button type="button" :ref="button" class="pcr-button"></button>'}\n\n        <div :ref="app" class="pcr-app ${i||""}" data-theme="${s}" ${n?'style="position: unset"':""} aria-label="${c("ui:dialog")}" role="window">\n          <div class="pcr-selection" ${l(e.palette)}>\n            <div :obj="preview" class="pcr-color-preview" ${l(e.preview)}>\n              <button type="button" :ref="lastColor" class="pcr-last-color" aria-label="${c("btn:last-color")}"></button>\n              <div :ref="currentColor" class="pcr-current-color"></div>\n            </div>\n\n            <div :obj="palette" class="pcr-color-palette">\n              <div :ref="picker" class="pcr-picker"></div>\n              <div :ref="palette" class="pcr-palette" tabindex="0" aria-label="${c("aria:palette")}" role="listbox"></div>\n            </div>\n\n            <div :obj="hue" class="pcr-color-chooser" ${l(e.hue)}>\n              <div :ref="picker" class="pcr-picker"></div>\n              <div :ref="slider" class="pcr-hue pcr-slider" tabindex="0" aria-label="${c("aria:hue")}" role="slider"></div>\n            </div>\n\n            <div :obj="opacity" class="pcr-color-opacity" ${l(e.opacity)}>\n              <div :ref="picker" class="pcr-picker"></div>\n              <div :ref="slider" class="pcr-opacity pcr-slider" tabindex="0" aria-label="${c("aria:opacity")}" role="slider"></div>\n            </div>\n          </div>\n\n          <div class="pcr-swatches ${e.palette?"":"pcr-last"}" :ref="swatches"></div>\n\n          <div :obj="interaction" class="pcr-interaction" ${l(Object.keys(e.interaction).length)}>\n            <input :ref="result" class="pcr-result" type="text" spellcheck="false" ${l(e.interaction.input)} aria-label="${c("aria:input")}">\n\n            <input :arr="options" class="pcr-type" data-type="HEXA" value="${r?"HEX":"HEXA"}" type="button" ${l(e.interaction.hex)}>\n            <input :arr="options" class="pcr-type" data-type="RGBA" value="${r?"RGB":"RGBA"}" type="button" ${l(e.interaction.rgba)}>\n            <input :arr="options" class="pcr-type" data-type="HSLA" value="${r?"HSL":"HSLA"}" type="button" ${l(e.interaction.hsla)}>\n            <input :arr="options" class="pcr-type" data-type="HSVA" value="${r?"HSV":"HSVA"}" type="button" ${l(e.interaction.hsva)}>\n            <input :arr="options" class="pcr-type" data-type="CMYK" value="CMYK" type="button" ${l(e.interaction.cmyk)}>\n\n            <input :ref="save" class="pcr-save" value="${c("btn:save")}" type="button" ${l(e.interaction.save)} aria-label="${c("aria:btn:save")}">\n            <input :ref="cancel" class="pcr-cancel" value="${c("btn:cancel")}" type="button" ${l(e.interaction.cancel)} aria-label="${c("aria:btn:cancel")}">\n            <input :ref="clear" class="pcr-clear" value="${c("btn:clear")}" type="button" ${l(e.interaction.clear)} aria-label="${c("aria:btn:clear")}">\n          </div>\n        </div>\n      </div>\n    `),u=p.interaction;return u.options.find((t=>!t.hidden&&!t.classList.add("active"))),u.type=()=>u.options.find((t=>t.classList.contains("active"))),p})(this),t.useAsButton&&(this._root.button=t.el),t.container.appendChild(this._root.root)}_finalBuild(){const t=this.options,e=this._root;if(t.container.removeChild(e.root),t.inline){const o=t.el.parentElement;t.el.nextSibling?o.insertBefore(e.app,t.el.nextSibling):o.appendChild(e.app)}else t.container.appendChild(e.app);t.useAsButton?t.inline&&t.el.remove():t.el.parentNode.replaceChild(e.root,t.el),t.disabled&&this.disable(),t.comparison||(e.button.style.transition="none",t.useAsButton||(e.preview.lastColor.style.transition="none")),this.hide()}_buildComponents(){const t=this,e=this.options.components,o=(t.options.sliders||"v").repeat(2),[n,i]=o.match(/^[vh]+$/g)?o:[],s=()=>this._color||(this._color=this._lastColor.clone()),r={palette:C({element:t._root.palette.picker,wrapper:t._root.palette.palette,onstop:()=>t._emit("changestop","slider",t),onchange(o,n){if(!e.palette)return;const i=s(),{_root:r,options:a}=t,{lastColor:l,currentColor:c}=r.preview;t._recalc&&(i.s=100*o,i.v=100-100*n,i.v<0&&(i.v=0),t._updateOutput("slider"));const p=i.toRGBA().toString(0);this.element.style.background=p,this.wrapper.style.background=`\n                        linear-gradient(to top, rgba(0, 0, 0, ${i.a}), transparent),\n                        linear-gradient(to left, hsla(${i.h}, 100%, 50%, ${i.a}), rgba(255, 255, 255, ${i.a}))\n                    `,a.comparison?a.useAsButton||t._lastColor||l.style.setProperty("--pcr-color",p):(r.button.style.setProperty("--pcr-color",p),r.button.classList.remove("clear"));const u=i.toHEXA().toString();for(const{el:e,color:o}of t._swatchColors)e.classList[u===o.toHEXA().toString()?"add":"remove"]("pcr-active");c.style.setProperty("--pcr-color",p)}}),hue:C({lock:"v"===i?"h":"v",element:t._root.hue.picker,wrapper:t._root.hue.slider,onstop:()=>t._emit("changestop","slider",t),onchange(o){if(!e.hue||!e.palette)return;const n=s();t._recalc&&(n.h=360*o),this.element.style.backgroundColor=`hsl(${n.h}, 100%, 50%)`,r.palette.trigger()}}),opacity:C({lock:"v"===n?"h":"v",element:t._root.opacity.picker,wrapper:t._root.opacity.slider,onstop:()=>t._emit("changestop","slider",t),onchange(o){if(!e.opacity||!e.palette)return;const n=s();t._recalc&&(n.a=Math.round(100*o)/100),this.element.style.background=`rgba(0, 0, 0, ${n.a})`,r.palette.trigger()}}),selectable:k({elements:t._root.interaction.options,className:"active",onchange(e){t._representation=e.target.getAttribute("data-type").toUpperCase(),t._recalc&&t._updateOutput("swatch")}})};this._components=r}_bindEvents(){const{_root:t,options:e}=this,o=[i(t.interaction.clear,"click",(()=>this._clearColor())),i([t.interaction.cancel,t.preview.lastColor],"click",(()=>{this.setHSVA(...(this._lastColor||this._color).toHSVA(),!0),this._emit("cancel")})),i(t.interaction.save,"click",(()=>{!this.applyColor()&&!e.showAlways&&this.hide()})),i(t.interaction.result,["keyup","input"],(t=>{this.setColor(t.target.value,!0)&&!this._initializingActive&&(this._emit("change",this._color,"input",this),this._emit("changestop","input",this)),t.stopImmediatePropagation()})),i(t.interaction.result,["focus","blur"],(t=>{this._recalc="blur"===t.type,this._recalc&&this._updateOutput(null)})),i([t.palette.palette,t.palette.picker,t.hue.slider,t.hue.picker,t.opacity.slider,t.opacity.picker],["mousedown","touchstart"],(()=>this._recalc=!0),{passive:!0})];if(!e.showAlways){const n=e.closeWithKey;o.push(i(t.button,"click",(()=>this.isOpen()?this.hide():this.show())),i(document,"keyup",(t=>this.isOpen()&&(t.key===n||t.code===n)&&this.hide())),i(document,["touchstart","mousedown"],(e=>{this.isOpen()&&!l(e).some((e=>e===t.app||e===t.button))&&this.hide()}),{capture:!0}))}if(e.adjustableNumbers){const e={rgba:[255,255,255,1],hsva:[360,100,100,1],hsla:[360,100,100,1],cmyk:[100,100,100,100]};p(t.interaction.result,((t,o,n)=>{const i=e[this.getColorRepresentation().toLowerCase()];if(i){const e=i[n],s=t+(e>=100?1e3*o:o);return s<=0?0:Number((s<e?s:e).toPrecision(3))}return t}))}if(e.autoReposition&&!e.inline){let t=null;const n=this;o.push(i(window,["scroll","resize"],(()=>{n.isOpen()&&(e.closeOnScroll&&n.hide(),null===t?(t=setTimeout((()=>t=null),100),requestAnimationFrame((function e(){n._rePositioningPicker(),null!==t&&requestAnimationFrame(e)}))):(clearTimeout(t),t=setTimeout((()=>t=null),100)))}),{capture:!0}))}this._eventBindings=o}_rePositioningPicker(){const{options:t}=this;if(!t.inline){if(!this._nanopop.update({container:document.body.getBoundingClientRect(),position:t.position})){const t=this._root.app,e=t.getBoundingClientRect();t.style.top=(window.innerHeight-e.height)/2+"px",t.style.left=(window.innerWidth-e.width)/2+"px"}}}_updateOutput(t){const{_root:e,_color:o,options:n}=this;if(e.interaction.type()){const t=`to${e.interaction.type().getAttribute("data-type")}`;e.interaction.result.value="function"==typeof o[t]?o[t]().toString(n.outputPrecision):""}!this._initializingActive&&this._recalc&&this._emit("change",o,t,this)}_clearColor(t=!1){const{_root:e,options:o}=this;o.useAsButton||e.button.style.setProperty("--pcr-color","rgba(0, 0, 0, 0.15)"),e.button.classList.add("clear"),o.showAlways||this.hide(),this._lastColor=null,this._initializingActive||t||(this._emit("save",null),this._emit("clear"))}_parseLocalColor(t){const{values:e,type:o,a:n}=w(t),{lockOpacity:i}=this.options,s=void 0!==n&&1!==n;return e&&3===e.length&&(e[3]=void 0),{values:!e||i&&s?null:e,type:o}}_t(t){return this.options.i18n[t]||E.I18N_DEFAULTS[t]}_emit(t,...e){this._eventListener[t].forEach((t=>t(...e,this)))}on(t,e){return this._eventListener[t].push(e),this}off(t,e){const o=this._eventListener[t]||[],n=o.indexOf(e);return~n&&o.splice(n,1),this}addSwatch(t){const{values:e}=this._parseLocalColor(t);if(e){const{_swatchColors:t,_root:o}=this,n=A(...e),s=r(`<button type="button" style="--pcr-color: ${n.toRGBA().toString(0)}" aria-label="${this._t("btn:swatch")}"/>`);return o.swatches.appendChild(s),t.push({el:s,color:n}),this._eventBindings.push(i(s,"click",(()=>{this.setHSVA(...n.toHSVA(),!0),this._emit("swatchselect",n),this._emit("change",n,"swatch",this)}))),!0}return!1}removeSwatch(t){const e=this._swatchColors[t];if(e){const{el:o}=e;return this._root.swatches.removeChild(o),this._swatchColors.splice(t,1),!0}return!1}applyColor(t=!1){const{preview:e,button:o}=this._root,n=this._color.toRGBA().toString(0);return e.lastColor.style.setProperty("--pcr-color",n),this.options.useAsButton||o.style.setProperty("--pcr-color",n),o.classList.remove("clear"),this._lastColor=this._color.clone(),this._initializingActive||t||this._emit("save",this._color),this}destroy(){cancelAnimationFrame(this._setupAnimationFrame),this._eventBindings.forEach((t=>s(...t))),Object.keys(this._components).forEach((t=>this._components[t].destroy()))}destroyAndRemove(){this.destroy();const{root:t,app:e}=this._root;t.parentElement&&t.parentElement.removeChild(t),e.parentElement.removeChild(e),Object.keys(this).forEach((t=>this[t]=null))}hide(){return!!this.isOpen()&&(this._root.app.classList.remove("visible"),this._emit("hide"),!0)}show(){return!this.options.disabled&&!this.isOpen()&&(this._root.app.classList.add("visible"),this._rePositioningPicker(),this._emit("show",this._color),this)}isOpen(){return this._root.app.classList.contains("visible")}setHSVA(t=360,e=0,o=0,n=1,i=!1){const s=this._recalc;if(this._recalc=!1,t<0||t>360||e<0||e>100||o<0||o>100||n<0||n>1)return!1;this._color=A(t,e,o,n);const{hue:r,opacity:a,palette:l}=this._components;return r.update(t/360),a.update(n),l.update(e/100,1-o/100),i||this.applyColor(),s&&this._updateOutput(),this._recalc=s,!0}setColor(t,e=!1){if(null===t)return this._clearColor(e),!0;const{values:o,type:n}=this._parseLocalColor(t);if(o){const t=n.toUpperCase(),{options:i}=this._root.interaction,s=i.find((e=>e.getAttribute("data-type")===t));if(s&&!s.hidden)for(const t of i)t.classList[t===s?"add":"remove"]("active");return!!this.setHSVA(...o,e)&&this.setColorRepresentation(t)}return!1}setColorRepresentation(t){return t=t.toUpperCase(),!!this._root.interaction.options.find((e=>e.getAttribute("data-type").startsWith(t)&&!e.click()))}getColorRepresentation(){return this._representation}getColor(){return this._color}getSelectedColor(){return this._lastColor}getRoot(){return this._root}disable(){return this.hide(),this.options.disabled=!0,this._root.button.classList.add("disabled"),this}enable(){return this.options.disabled=!1,this._root.button.classList.remove("disabled"),this}}return e=e.default})()));
//# sourceMappingURL=pickr.min.js.map</script>

<script>
const userId = "";

const defaultColor1 = '#800080';
const defaultColor2 = '#0000ff';

let themeColor1 = localStorage.getItem('themeColor1') || defaultColor1;
let themeColor2 = localStorage.getItem('themeColor2') || defaultColor2;
let catEnabled = localStorage.getItem('catEnabled') !== 'false';

const topBar = document.getElementById('topBar');
const embedContainer = document.getElementById('embedContainer');
const cat = document.getElementById('cat');
const bubble = document.getElementById('catBubble');
const notifMessage = document.getElementById('notifMessage');
const chatButton = document.getElementById('chatButton');

function updateTheme() {
    topBar.style.background = `linear-gradient(to right, ${themeColor1}, ${themeColor2})`;
    topBar.style.borderBottom = `2px solid ${themeColor2}`;
}

function saveThemeToStorage() {
    localStorage.setItem('themeColor1', themeColor1);
    localStorage.setItem('themeColor2', themeColor2);
}

function playClickSound() {
    const clickSound = new Audio("https://sevvy-wevvy.com/files/click1.mp3");
    clickSound.play();
}

function Settings() {
    playClickSound();
    embedContainer.className = 'settings';
    embedContainer.innerHTML = `
        <h2>Theme Settings</h2>
        <div class="color-picker">
            <div>
                <div id="pickr1"></div>
                <span style="opacity:0.5;">First Color</span>
            </div>
            <div>
                <div id="pickr2"></div>
                <span style="opacity:0.5;">Second Color</span>
            </div>
        </div>
        <label style="margin-top: 20px; color: white;">
            <input type="checkbox" id="catToggle" style="transform: scale(1.3); margin-right: 10px;">
            Enable Cat
        </label>
        <label style="margin-top: 20px; color: white;">
            Watched Usernames (comma-separated):
            <input type="text" id="watchedUsernames" style="margin-top: 5px; width: 100%; padding: 6px;" />
        </label>
        <label style="margin-top: 20px; color: white;">
    Music Volume:
    <input type="range" id="volumeSlider" min="0" max="1" step="0.01" style="width: 100%; margin-top: 5px;">
</label>

        <button id="resetBtn">Reset to Default</button>
    `;

    document.getElementById('catToggle').checked = catEnabled;
    document.getElementById('catToggle').addEventListener('change', (e) => {
        catEnabled = e.target.checked;
        localStorage.setItem('catEnabled', catEnabled);
        cat.style.display = catEnabled ? 'block' : 'none';
        bubble.style.display = 'none';
    });

    document.getElementById('watchedUsernames').value = localStorage.getItem('watchedUsernames') || '';
    document.getElementById('watchedUsernames').addEventListener('input', (e) => {
        localStorage.setItem('watchedUsernames', e.target.value.trim());
    });
    
const volumeSlider = document.getElementById('volumeSlider');
const storedVolume = parseFloat(localStorage.getItem('musicVolume')) || 0.5;
volumeSlider.value = storedVolume;

if (audio) audio.volume = storedVolume;

volumeSlider.addEventListener('input', (e) => {
    const vol = parseFloat(e.target.value);
    if (audio) audio.volume = vol;
    localStorage.setItem('musicVolume', vol);
});


    document.getElementById('resetBtn').addEventListener('click', () => {
        playClickSound();
        themeColor1 = defaultColor1;
        themeColor2 = defaultColor2;
        catEnabled = true;
        pickr1.setColor(themeColor1);
        pickr2.setColor(themeColor2);
        updateTheme();
        saveThemeToStorage();
        localStorage.setItem('catEnabled', 'true');
        document.getElementById('catToggle').checked = true;
        cat.style.display = 'block';
        bubble.style.display = 'none';
        embedContainer.style.background = `linear-gradient(to right, ${themeColor1}, ${themeColor2})`;
        topBar.style.borderBottom = `2px solid ${themeColor2}`;
    });

    const pickr1 = Pickr.create({
        el: '#pickr1',
        theme: 'classic',
        default: themeColor1,
        components: {
            preview: true, opacity: false, hue: true,
            interaction: { hex: true, input: true, save: true }
        }
    });

    const pickr2 = Pickr.create({
        el: '#pickr2',
        theme: 'classic',
        default: themeColor2,
        components: {
            preview: true, opacity: false, hue: true,
            interaction: { hex: true, input: true, save: true }
        }
    });

    pickr1.on('save', (color) => {
        themeColor1 = color.toHEXA().toString();
        updateTheme();
        saveThemeToStorage();
        embedContainer.style.background = `linear-gradient(to right, ${themeColor1}, ${themeColor2})`;
    });

    pickr2.on('save', (color) => {
        themeColor2 = color.toHEXA().toString();
        updateTheme();
        saveThemeToStorage();
        embedContainer.style.background = `linear-gradient(to right, ${themeColor1}, ${themeColor2})`;
    });

    embedContainer.style.background = `linear-gradient(to right, ${themeColor1}, ${themeColor2})`;
}

function loadInventory() {
    embedContainer.classList.remove('settings');
    embedContainer.removeAttribute('style');
    embedContainer.style.background = '#fff';
    embedContainer.innerHTML = userId
        ? `<iframe src="https://app.blobtown.com/inventory/?blobt=${userId}" allowfullscreen></iframe>`
        : `<div style="color: red; font-size: 20px; text-align: center; margin-top: 30px;">
            ⚠ No ID provided in the URL. Please add <code>?id=YOURID</code> to the URL.
           </div>`;
}

function goBrowser() {
    playClickSound();
    embedContainer.classList.remove('settings');
    embedContainer.removeAttribute('style');
    embedContainer.innerHTML = `<iframe src="https://sevvy-wevvy.com/mods/blobtown/sev/browser/" allowfullscreen></iframe>`;
}

function goChat() {
    playClickSound();
    embedContainer.classList.remove('settings');
    embedContainer.removeAttribute('style');
    embedContainer.innerHTML = `<iframe src="https://gggravity.org/chatroom/use.php" allowfullscreen></iframe>`;
    clearChatNotification();
}

function goMenu() {
    playClickSound();
    loadInventory();
}

function kill() {
    window.location.href = `https://sevvy-wevvy.com/mods/blobtown?id=${userId}`;
}

function refresh() {
    location.reload();
}

function updateClock() {
    const now = new Date();
    const h = now.getHours().toString().padStart(2, '0');
    const m = now.getMinutes().toString().padStart(2, '0');
    const s = now.getSeconds().toString().padStart(2, '0');
    document.getElementById('clock').textContent = `${h}:${m}:${s}`;
}

let catX = 200, catY = 200, velX = 0, velY = 0;
let climbing = false, direction = 1, grounded = false;
const gravity = 0.6, friction = 0.8, jumpPower = -10, moveSpeed = 2;

function showBubble(text) {
    if (!catEnabled) return;
    bubble.textContent = text;
    bubble.style.display = 'block';
    setTimeout(() => { if (catEnabled) bubble.style.display = 'none'; }, 3000);
}

function updateCat() {
    if (!catEnabled) return requestAnimationFrame(updateCat);

    if (Math.random() < 0.01) {
        direction *= -1;
        cat.style.transform = `scaleX(${direction})`;
    }

    if (grounded && Math.random() < 0.01) {
        velY = jumpPower;
        grounded = false;
    }

    if (Math.random() < 0.005) {
        const phrases = ["Meow!", "Let me up!", "Zoomies!", "Wheee~", "Mrowww~", "Wall climb!"];
        showBubble(phrases[Math.floor(Math.random() * phrases.length)]);
    }

    if ((catX <= 0 || catX >= window.innerWidth - 100) && Math.random() < 0.2) {
        climbing = true;
        velY = -2;
    }

    if (climbing && catY <= 100) {
        climbing = false;
        velY = 1;
    }

    if (!climbing) velX = direction * moveSpeed;
    if (!climbing) velY += gravity;
    else velY = -1;

    catX += velX;
    catY += velY;
    velX *= friction;

    const groundY = window.innerHeight - 100;
    if (catX < 0) { catX = 0; direction = 1; }
    if (catX > window.innerWidth - 100) { catX = window.innerWidth - 100; direction = -1; }
    if (catY >= groundY) { catY = groundY; velY = 0; grounded = true; climbing = false; }
    if (catY < 0) { catY = 0; velY = 1; }

    cat.style.left = `${catX}px`;
    cat.style.top = `${catY}px`;
    bubble.style.left = `${catX}px`;
    bubble.style.top = `${catY - 30}px`;

    requestAnimationFrame(updateCat);
}

let lastTextLogLine = "";

async function checkWatchedUsernames() {
    const code = localStorage.code || "1234";
    const rawInput = localStorage.getItem('watchedUsernames') || '';
    const watched = rawInput.split(',').map(name => name.trim().toLowerCase()).filter(Boolean);
    if (watched.length === 0) return;

    try {
        const chatRes = await fetch(`https://gggravity.org/chatroom/chatlogs/chatlog_${code}.txt?` + Date.now());
        const userRes = await fetch(`https://gggravity.org/chatroom/userlogs/userlog_${code}.txt?` + Date.now());

        if (!chatRes.ok || !userRes.ok) return;

        const chatData = await chatRes.text();
        const userData = await userRes.text();

        const chatLines = chatData.split('\n').map(l => l.trim()).filter(Boolean);
        const userLines = userData.split('\n').map(l => l.trim().toLowerCase()).filter(Boolean);

        const latestChat = chatLines[chatLines.length - 1];
        const latestUser = userLines[userLines.length - 1];

        if (!lastTextLogLine) {
            lastTextLogLine = latestChat;
            return;
        }

        if (latestChat !== lastTextLogLine) {
            lastTextLogLine = latestChat;

            for (const name of watched) {
                if (latestUser === name) {
                    showNotification(`Your friend "${name}" sent a message!`);
                    showChatNotification();
                    break;
                }
            }
        }
    } catch (e) {
        console.warn("User check failed:", e);
    }
}

function showNotification(text) {
    const clickSound = new Audio("https://sevvy-wevvy.com/files/notifi1.mp3");
    clickSound.play();
    notifMessage.textContent = text;
    notifMessage.style.display = 'block';
    clearTimeout(showNotification.timeout);
    showNotification.timeout = setTimeout(() => {
        notifMessage.style.display = 'none';
    }, 4000);
}

function showChatNotification() {
    chatButton.classList.add('neon-red');
}

function clearChatNotification() {
    chatButton.classList.remove('neon-red');
}

setInterval(checkWatchedUsernames, 1000);
cat.style.display = catEnabled ? 'block' : 'none';
updateCat();
setInterval(updateClock, 1000);
updateClock();
updateTheme();
loadInventory();
</script>

<script>
let audio;
let syncInterval;
(() => {
    let currentVersion = '';

    async function fetchSync() {
        try {
            const res = await fetch('https://gggravity.org/synced-music/song.php', {
                mode: 'cors',
                cache: 'no-cache',
            });
            if (!res.ok) throw new Error(`Sync fetch failed with status ${res.status}`);
            return await res.json();
        } catch (e) {
            console.error('Error fetching sync:', e);
            return null;
        }
    }

    async function startAudioPlayback() {
        let currentAudioSrc = '';

        async function checkAndSync() {
            const syncData = await fetchSync();
            if (!syncData || !syncData.version) {
                console.warn('Invalid sync data or missing version. Retrying next interval.');
                return;
            }

            if (syncData.version === currentVersion) return;
            currentVersion = syncData.version;

            const newAudioSrc = syncData.url + '?t=' + syncData.start_time;
            const now = Date.now() / 1000;
            const expectedOffset = (now - syncData.start_time) % syncData.length;

            console.log(`[Sync] Version changed. New song: ${syncData.song}`);
            currentAudioSrc = newAudioSrc;

            audio.src = newAudioSrc;
            audio.load();

            const playNewSong = async () => {
                const playTimeOffset = (Date.now() / 1000 - syncData.start_time) % syncData.length;
                audio.currentTime = playTimeOffset;

                try {
                    await audio.play();
                    console.log(`[Audio] Playing ${syncData.song} at offset ${playTimeOffset.toFixed(2)}s`);
                } catch (e) {
                    console.error(`[Audio] Failed to play new song. Browser may require user interaction.`, e);
                }
                audio.removeEventListener('canplay', playNewSong);
            };

            audio.addEventListener('canplay', playNewSong);
        }

        await checkAndSync();

        if (syncInterval) clearInterval(syncInterval);
        syncInterval = setInterval(checkAndSync, 2000);
    }

    function initializeAudioOnInteraction() {
        console.log('[Init] User interaction detected. Initializing audio element.');

        audio = new Audio();
        audio.volume = parseFloat(localStorage.getItem('musicVolume'))/2 || 0.24;
        audio.crossOrigin = 'anonymous';
        audio.preload = 'auto';

        audio.addEventListener('error', (e) => {
            console.error('[Audio Error] An error occurred with the audio element:', e);
        });

        startAudioPlayback();
    }

    const events = ['click', 'keydown', 'touchstart'];
    events.forEach(e => document.addEventListener(e, initializeAudioOnInteraction, { once: true }));

})();
</script>
<iframe id="profileIframe" src="https://gggravity.org/gravity-accounts/profile" allowtransparency="true"></iframe>

<button id="toggleBtn" title="Toggle Profile">
  <img src="https://gggravity.org/gravity-accounts/overlay/user.png" alt="User">
</button>

<style>
  #profileIframe {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%) scale(0.95);
  width: 90vw;
  height: 80vh;
  max-width: 1200px;
  max-height: 90vh;
  border: none;
  border-radius: 20px;
  background: white;
  box-shadow: 0 0 30px rgba(0, 0, 0, 0.35);
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.4s ease, transform 0.4s ease;
  z-index: 999;
}

#profileIframe.active {
  opacity: 1;
  pointer-events: auto;
  transform: translate(-50%, -50%) scale(1);
}


  #toggleBtn {
    position: fixed;
    bottom: 20px;
    right: 20px;
    width: 45px;
    height: 45px;
    border-radius: 50%;
    border: none;
    background: linear-gradient(45deg, #e0d0ff, #fceeff);
    animation: colorFade 3s infinite alternate;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 4px 12px rgba(0,0,0,0.2);
    cursor: pointer;
    z-index: 1000;
    padding: 0;
    transition: filter 0.2s ease;
    opacity: 0.5;
  }

  #toggleBtn:hover {
    filter: brightness(0.85);
  }

  #toggleBtn img {
    width: 24px;
    height: 24px;
  }

  @keyframes colorFade {
    0% { background-color: #f0e9ff; }
    100% { background-color: #cbbaff; }
  }
  
  
</style>

<script>
  const btn = document.getElementById("toggleBtn");
  const iframe = document.getElementById("profileIframe");

  btn.onclick = () => {
    iframe.classList.toggle("active");
  };
</script>
<div id="consent-overlay">
  <div id="consent-card">
    <h2>Before You Continue</h2>
    <p>
      Please review and agree to our
      <a href="https://gggravity.org/pp/" target="_blank" rel="noopener">Privacy Policy</a>
      and
      <a href="https://gggravity.org/tc/" target="_blank" rel="noopener">Terms of Service</a>.
    </p>
    <div class="consent-buttons">
      <button id="consent-accept">I Agree</button>
      <button id="consent-decline">I Do Not Agree</button>
    </div>
  </div>
</div>

<style>
#consent-overlay {
  position: fixed;
  inset: 0;
  background: rgba(255,255,255,0.6);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  display: none;
  align-items: center;
  justify-content: center;
  z-index: 9999;
}

#consent-card {
  background: #ffffff;
  border-radius: 20px;
  padding: 40px 30px;
  max-width: 420px;
  width: 90%;
  text-align: center;
  box-shadow: 0 12px 35px rgba(0,0,0,0.08);
  animation: fadeIn 0.6s ease-out forwards;
  transform: translateY(20px);
  opacity: 0;
}

#consent-card h2 {
  font-size: 2rem;
  font-weight: 700;
  color: #2b1646;
  margin-bottom: 15px;
}

#consent-card p {
  font-size: 1rem;
  color: #5e4b75;
  margin-bottom: 25px;
  line-height: 1.5;
}

#consent-card a {
  color: #7a6a9b;
  font-weight: bold;
  text-decoration: none;
}

#consent-card a:hover {
  text-decoration: underline;
}

.consent-buttons {
  display: flex;
  justify-content: center;
  gap: 15px;
}

.consent-buttons button {
  flex: 1;
  padding: 12px 18px;
  border-radius: 12px;
  border: none;
  font-size: 1rem;
  font-weight: bold;
  cursor: pointer;
  transition: all 0.2s ease;
}

#consent-accept {
  background: linear-gradient(145deg, #f0e9ff, #dddff0);
  color: #2b1646;
  box-shadow: 0 4px 12px rgba(0,0,0,0.05);
}

#consent-accept:hover {
  background: #c4b7d9;
  transform: scale(1.05);
}

#consent-decline {
  background: #ffeef0;
  color: #5e4b75;
  box-shadow: 0 4px 12px rgba(0,0,0,0.05);
}

#consent-decline:hover {
  background: #f8d7da;
  transform: scale(1.05);
}

@keyframes fadeIn {
  to {
    opacity: 1;
    transform: translateY(0);
  }
}
</style>

<script>
(function () {
  const STORAGE_KEY = 'ppts_version';
  const VERSION_URL = 'https://gggravity.org/ppts-v.txt';
  const overlay = document.getElementById('consent-overlay');
  const acceptBtn = document.getElementById('consent-accept');
  const declineBtn = document.getElementById('consent-decline');
  let currentVersion = null;

  async function fetchVersion() {
    try {
      const res = await fetch(VERSION_URL, { cache: 'no-store' });
      if (!res.ok) throw new Error();
      const text = await res.text();
      const num = parseInt(text.trim(), 10);
      return Number.isFinite(num) ? String(num) : null;
    } catch {
      return null;
    }
  }

  function getSavedVersion() {
    try { return localStorage.getItem(STORAGE_KEY); } catch { return null; }
  }

  function saveVersion(v) {
    try { localStorage.setItem(STORAGE_KEY, String(v)); } catch {}
  }

  function showPopup() {
    overlay.style.display = 'flex';
  }

  function hidePopup() {
    overlay.style.display = 'none';
  }

  function shouldShowPopup(saved, latest) {
    if (!saved) return true;
    if (latest && saved !== latest) return true;
    return false;
  }

  async function initConsent() {
    const saved = getSavedVersion();
    currentVersion = await fetchVersion();
    if (shouldShowPopup(saved, currentVersion)) {
      showPopup();
    }
  }

  acceptBtn.addEventListener('click', () => {
    if (currentVersion) saveVersion(currentVersion);
    hidePopup();
  });

  declineBtn.addEventListener('click', () => {
    try {
      window.open('', '_self');
      window.close();
      setTimeout(() => { if (!document.hidden) location.href = 'https://gggravity.org/ar/'; }, 200);
    } catch {
      location.href = 'https://gggravity.org/ar/';
    }
  });

  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', initConsent);
  } else {
    initConsent();
  }
})();
</script>


</body>